{"openapi":"3.1.0","info":{"title":"Case Management Service","description":"Claim Event Information","version":"1.0"},"servers":[{"url":"http://localhost:5001","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Property Controller","description":"APIs for property management"},{"name":"Dashboard Controller","description":"APIs for dashboard display"},{"name":"User Controller","description":"APIs for managing user within the system"},{"name":"Customer Controller","description":"APIs for customer management"},{"name":"Saved Property Controller","description":"APIs for saved property management"},{"name":"Notification Controller","description":"APIs for notification management"},{"name":"Rental Request Controller","description":"APIs for rental request management"}],"paths":{"/user/me/change-password":{"put":{"tags":["User Controller"],"summary":"Update user's password","description":"Update user's password","operationId":"updatePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserChangePwdDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Update user's password successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"id":1,"fullName":"John Doe","username":"user1","phone":"1234567890","email":"user1@example.com","role":{"id":1,"name":"ADMIN"},"enabled":true}}}},"400":{"description":"Invalid password","content":{"application/json":{"example":["Mật khẩu sai","Mật khẩu không khớp"]}}}}}},"/api/user/{id}":{"put":{"tags":["User Controller"],"summary":"Update user information","description":"Update user information","operationId":"updateUser","parameters":[{"name":"id","in":"path","description":"User id","required":true,"schema":{"type":"integer","format":"int64","description":"User id","example":1},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Update user information successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"id":1,"fullName":"John Doe","username":"user1","phone":"1234567890","email":"user1@example.com","role":{"id":1,"name":"ADMIN"},"enabled":true}}}},"400":{"description":"Invalid data","content":{"application/json":{"example":["Tên không được để trống","Số điện thoại không được để trống"]}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/api/user/1","status":404}}}}}},"delete":{"tags":["User Controller"],"summary":"Delete user by ID","description":"Delete user by ID","operationId":"deleteUserById","parameters":[{"name":"id","in":"path","description":"User id","required":true,"schema":{"type":"integer","format":"int64","description":"User id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Delete user by ID successfully","content":{"application/json":{"example":["Đã xóa người dùng thành công"]}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/api/user/1","status":404}}}},"403":{"description":"Admin deletion not allowed","content":{"application/json":{"example":{"error":"Admin Deletion Not Allowed Error","message":"Không thể xóa tài khoản admin","path":"/api/user/1","status":404}}}}}}},"/api/user/{id}/role":{"put":{"tags":["User Controller"],"summary":"Update user role","description":"Update user role","operationId":"updateUserRole","parameters":[{"name":"role","in":"query","description":"Role of user","required":true,"schema":{"$ref":"#/components/schemas/Role"},"example":"OWNER"},{"name":"id","in":"path","description":"User id","required":true,"schema":{"type":"integer","format":"int64","description":"User id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Update user role successfully","content":{"application/json":{"example":["Cập nhật vai trò user thành công"]}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found","message":"Người dùng không tồn tại","path":"/api/user/1/role","status":404}}}}}}},"/api/rental-request/{requestId}/status":{"put":{"tags":["Rental Request Controller"],"summary":"Update the status of a rental request","description":"Update the status of a rental request","operationId":"updateRentalRequestStatus","parameters":[{"name":"requestId","in":"path","description":"Rental request id","required":true,"schema":{"type":"integer","format":"int64","description":"Rental request id","example":1},"example":1},{"name":"status","in":"query","description":"Rental request status","required":true,"schema":{"type":"string","description":"Rental request status","enum":["PENDING","SELECTED","REJECTED","CANCELED"],"example":"SELECTED"},"example":"SELECTED"}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Update rental request status successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RentalRequest"},"example":{"id":1,"status":"SELECTED","createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 11:15:00"}}}},"404":{"description":"Property not found","content":{"application/json":{"examples":{"Rental request not found":{"description":"Rental request not found","value":{"error":"Resource Not Found Error","message":"Yêu cầu thuê không tồn tại","path":"/api/rental-request/1/status","status":404}}}}}},"403":{"description":"Not authorized to update rental request status","content":{"application/json":{"example":{"error":"Rental Request Not Authorized Error","message":"Bạn không có quyền cập nhật trạng thái của yêu cầu thuê này","path":"/api/rental-request/1/status","status":403}}}}}}},"/api/property/{id}":{"get":{"tags":["Property Controller"],"summary":"Get property details by ID","description":"Get detailed information of a property by its ID. Access is restricted based on user role and property status","operationId":"getPropertyFromId","parameters":[{"name":"id","in":"path","description":"Property ID","required":true,"schema":{"type":"integer","format":"int64","description":"Property ID","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Retrieve property successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDTO"},"example":{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Hồ Chí Minh","district":"Quận 1","ward":"Phường Bến Nghé","street":"Đường Nguyễn Huệ","address":"123 Đường Nguyễn Huệ, Phường Bến Nghé, Quận 1, TP.HCM","pricePerMonth":5000000,"currentTenants":1,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","area":50.5,"furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"imageUrls":["https://example.com/image1.jpg","https://example.com/image2.jpg"],"owner":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com","phone":"0123456789"},"createdAt":"2024-03-20 10:30:00","reviewedAt":"2024-03-20 11:00:00","rejectReason":null,"rentalRequests":[{"id":1,"status":"PENDING","customer":{"id":2,"fullName":"Tran Van B"},"createdAt":"2024-03-20 12:00:00"}],"savedCount":5}}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/property/1","status":404}}}},"403":{"description":"Access denied","content":{"application/json":{"examples":{"Customer access denied":{"description":"Customer access denied","value":{"error":"Access Denied Error","message":"Bạn không có quyền xem BĐS này","path":"/api/property/1","status":403}},"Owner access denied":{"description":"Owner access denied","value":{"error":"Access Denied Error","message":"Bạn không có quyền xem BĐS này","path":"/api/property/1","status":403}}}}}}}},"put":{"tags":["Property Controller"],"summary":"Update a property","description":"Update a property by its ID. Only the owner can update their property. Updating an approved property will set it back to pending review","operationId":"updateProperty","parameters":[{"name":"id","in":"path","description":"Property ID","required":true,"schema":{"type":"integer","format":"int64","description":"Property ID","example":1},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"property":{"$ref":"#/components/schemas/PropertyCreateOrUpdateDTO"},"images":{"type":"array","items":{"type":"string","format":"binary"}},"keepImageIds":{"type":"string"}},"required":["property"]}}}},"responses":{"500":{"description":"Image Upload Error","content":{"application/json":{"example":{"error":"Internal Server Error","message":"Lỗi khi upload ảnh: Không thể kết nối đến Google Drive","path":"/api/property/1","status":500}}}},"200":{"description":"Property updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Property"},"example":{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Hồ Chí Minh","district":"Quận 1","ward":"Phường Bến Nghé","street":"Đường Nguyễn Huệ","address":"123 Đường Nguyễn Huệ, Phường Bến Nghé, Quận 1, TP.HCM","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"PENDING_REVIEW","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 11:15:00"}}}},"400":{"description":"Bad Request","content":{"application/json":{"example":["Title is required","Description is required","City is required"]}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/property/1","status":404}}}},"403":{"description":"Access denied","content":{"application/json":{"example":{"error":"Access Denied Error","message":"Bạn không phải chủ của BĐS này","path":"/api/property/1","status":403}}}}}},"delete":{"tags":["Property Controller"],"summary":"Delete a property","description":"Delete a property by its ID. Only the owner of the property can delete it","operationId":"deletePropertyFromId","parameters":[{"name":"id","in":"path","description":"Property ID","required":true,"schema":{"type":"integer","format":"int64","description":"Property ID","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Property deleted successfully","content":{"application/json":{"example":"Đã xóa bất động sản thành công"}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/property/1","status":404}}}},"403":{"description":"Access denied","content":{"application/json":{"example":{"error":"Access Denied Error","message":"Bạn không có quyền xóa BĐS này","path":"/api/property/1","status":403}}}}}}},"/api/property/{id}/status":{"put":{"tags":["Property Controller"],"summary":"Update property status","description":"Update the status of a property. Only admin can update property status. Property must be in PENDING_REVIEW status to be updated","operationId":"updatePropertyStatus","parameters":[{"name":"id","in":"path","description":"Property ID","required":true,"schema":{"type":"integer","format":"int64","description":"Property ID","example":1},"example":1},{"name":"rejectReason","in":"query","description":"Reject reason","required":false,"schema":{"type":"string","description":"Reject reason","example":"Thông tin không chính xác"},"example":"Thông tin không chính xác"},{"name":"status","in":"query","description":"New status","required":true,"schema":{"type":"string","description":"New status","enum":["PENDING_REVIEW","APPROVED","REJECTED","EXPIRED","RENTED"],"example":"APPROVED"},"example":"APPROVED"}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Property status updated successfully","content":{"application/json":{"example":"Cập nhật trạng thái thành công"}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/property/1/status","status":404}}}},"409":{"description":"Property already reviewed","content":{"application/json":{"example":{"error":"Property Already Reviewed Error","message":"Bất động sản này đã được duyệt bởi Nguyen Van A vào lúc 2024-03-20 10:30:00","path":"/api/property/1/status","status":409}}}},"423":{"description":"Property is being reviewed by another admin","content":{"application/json":{"example":{"error":"Property Locked Error","message":"Property này đang được admin khác chỉnh sửa. Vui lòng thử lại sau.","path":"/api/property/1/status","status":423}}}}}}},"/api/notifications/{notificationId}/read":{"put":{"tags":["Notification Controller"],"summary":"Mark notification as read","description":"Mark a specific notification as read. Only the owner of the notification can mark it as read","operationId":"markAsRead","parameters":[{"name":"notificationId","in":"path","description":"Notification ID","required":true,"schema":{"type":"integer","format":"int64","description":"Notification ID","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Notification marked as read successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"},"example":{"id":1,"title":"Yêu cầu thuê nhà mới","content":"Bạn có yêu cầu thuê nhà mới từ Nguyễn Văn A","isRead":true,"user":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com"},"property":{"id":1,"title":"Căn hộ cho thuê tại Quận 1"},"rentalRequest":{"id":1,"status":"PENDING"},"createdAt":"2024-03-20 10:30:00"}}}},"404":{"description":"Notification not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Thông báo không tồn tại","path":"/api/notifications/1/read","status":404}}}},"403":{"description":"Access denied","content":{"application/json":{"example":{"error":"Access Denied Error","message":"Bạn không có quyền đánh dấu đã đọc cho thông báo này","path":"/api/notifications/1/read","status":403}}}}}}},"/api/auth/reset-password":{"put":{"tags":["User Controller"],"summary":"Reset user password","description":"Reset user password","operationId":"resetPassword","parameters":[{"name":"token","in":"query","description":"Password reset token","required":true,"schema":{"type":"string","description":"Password reset token","example":"1234567890"},"example":1234567890}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResetPwdDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Reset user password successfully","content":{"application/json":{"example":["Thay đổi mật khẩu thành công"]}}},"400":{"description":"Invalid token","content":{"application/json":{"example":{"error":"Invalid Token Error","message":"Token không hợp lệ. Vui lòng yêu cầu đăng ký mới","path":"/api/auth/verify-email","status":400}}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/api/auth/reset-password","status":404}}}}}}},"/api/saved-properties/{propertyId}":{"post":{"tags":["Saved Property Controller"],"summary":"Save a property","description":"Save a property to user's saved list. If the property is already saved, an error will be returned","operationId":"saveProperty","parameters":[{"name":"propertyId","in":"path","description":"Property ID","required":true,"schema":{"type":"integer","format":"int64","description":"Property ID","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Property saved successfully","content":{"application/json":{"example":"Đã lưu bất động sản"}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/saved-properties/1","status":404}}}},"409":{"description":"Property already saved","content":{"application/json":{"example":{"error":"Property Already Saved Error","message":"BĐS đã được lưu trước đó","path":"/api/saved-properties/1","status":409}}}}}},"delete":{"tags":["Saved Property Controller"],"summary":"Unsave a property","description":"Remove a property from user's saved list","operationId":"unsaveProperty","parameters":[{"name":"propertyId","in":"path","description":"Property ID","required":true,"schema":{"type":"integer","format":"int64","description":"Property ID","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Property unsaved successfully","content":{"application/json":{"example":"Đã bỏ lưu bất động sản"}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/saved-properties/1","status":404}}}}}}},"/api/rental-request/{propertyId}":{"get":{"tags":["Rental Request Controller"],"summary":"Retrieve rental requests for a property","description":"Retrieve rental requests for a property","operationId":"getRentalRequest","parameters":[{"name":"propertyId","in":"path","description":"Property id","required":true,"schema":{"type":"integer","format":"int64","description":"Property id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Retrieve rental requests successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RentalRequest"},"example":[{"id":1,"status":"PENDING","createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"},{"id":2,"status":"SELECTED","createdAt":"2024-03-19 15:45:00","updatedAt":"2024-03-20 09:15:00"}]}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/rental-request/1","status":404}}}}}},"post":{"tags":["Rental Request Controller"],"summary":"Send a rental request for a property","description":"Send a rental request for a property","operationId":"sendRentalRequest","parameters":[{"name":"propertyId","in":"path","description":"Property id","required":true,"schema":{"type":"integer","format":"int64","description":"Property id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Send rental request successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RentalRequest"},"example":{"id":1,"status":"PENDING","createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}}}},"404":{"description":"Property not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/rental-request/1","status":404}}}},"409":{"description":"Rental request exceeds the limit","content":{"application/json":{"example":{"error":"Rental Request Limit Exceeded Error","message":"BĐS này đã đạt giới hạn yêu cầu thuê tối đa","path":"/api/rental-request/1","status":409}}}}}},"delete":{"tags":["Rental Request Controller"],"summary":"Cancel a rental request for a property","description":"Cancel a rental request for a property","operationId":"cancelRentalRequest","parameters":[{"name":"propertyId","in":"path","description":"Property id","required":true,"schema":{"type":"integer","format":"int64","description":"Property id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Cancel rental request successfully","content":{"application/json":{"example":"Hủy yêu cầu thành công"}}},"404":{"description":"Property not found","content":{"application/json":{"examples":{"Property not found":{"description":"Property not found","value":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/rental-request/1","status":404}},"Rental request not found":{"description":"Rental request not found","value":{"error":"Resource Not Found Error","message":"Yêu cầu thuê không tồn tại","path":"/api/rental-request/1","status":404}}}}}},"403":{"description":"Not authorized to cancel rental request","content":{"application/json":{"example":{"error":"Rental Request Not Authorized Error","message":"Bạn không có quyền hủy yêu cầu này","path":"/api/rental-request/1","status":403}}}},"400":{"description":"Cannot change rental request status","content":{"application/json":{"example":{"error":"Rental Request Invalid Status Error","message":"Không thể hủy yêu cầu khi ở trạng thái hiện tại","path":"/api/rental-request/1","status":403}}}}}}},"/api/property":{"get":{"tags":["Property Controller"],"summary":"Get all approved properties","description":"Get all properties that have been approved by admin. The response will be filtered based on user role","operationId":"getApprovedProperties","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Properties retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDTO"},"example":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Ho Chi Minh City","district":"District 1","ward":"Ben Nghe Ward","street":"Nguyen Hue Street","address":"123 Nguyen Hue Street, Ben Nghe Ward, District 1, HCMC","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":5,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}]}}}}},"post":{"tags":["Property Controller"],"summary":"Create a new property","description":"Create a new property with images","operationId":"createProperty","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"property":{"$ref":"#/components/schemas/PropertyCreateOrUpdateDTO"},"images":{"type":"array","items":{"type":"string","format":"binary"}}},"required":["images","property"]}}}},"responses":{"500":{"description":"Internal Server Error","content":{"application/json":{"example":{"error":"Internal Server Error","message":"Lỗi khi upload ảnh: Không thể kết nối đến Google Drive","path":"/api/property","status":500}}}},"200":{"description":"Property created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Property"},"example":{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","address":"123 Đường Nguyễn Huệ, Phường Bến Nghé, Quận 1, TP.HCM","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"PENDING_REVIEW","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}}}},"400":{"description":"Bad Request","content":{"application/json":{"example":["Title is required","Description is required","City is required"]}}}}}},"/api/property/filter":{"post":{"tags":["Property Controller"],"summary":"Filter properties","description":"Filter properties based on various criteria such as area, price, location, etc. Only approved properties will be returned","operationId":"filterProperties","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyFilterDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Properties filtered successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDTO"},"example":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Hồ Chí Minh","district":"Quận 1","ward":"Phường Bến Nghé","street":"Đường Nguyễn Huệ","address":"123 Đường Nguyễn Huệ, Phường Bến Nghé, Quận 1, TP.HCM","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":5,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}]}}}}}},"/api/auth/resend-verification":{"post":{"tags":["User Controller"],"summary":"Resend verification email","description":"Resend verification email to the user","operationId":"resendVerification","parameters":[{"name":"email","in":"query","description":"Email of the user","required":true,"schema":{"type":"string","description":"Email of the user","example":"test@example.com"},"example":"test@example.com"}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Resend verification email successfully","content":{"application/json":{"example":["Email xác nhận được gửi. Vui lòng kiểm tra inbox."]}}},"400":{"description":"Invalid token","content":{"application/json":{"example":{"error":"Invalid token","message":"Token không hợp lệ. Vui lòng yêu cầu đăng ký mới","path":"/api/auth/resend-verification","status":400}}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/api/auth/resend-verification","status":404}}}},"429":{"description":"Resend limit exceeded","content":{"application/json":{"example":{"error":"Resend Limit Exceeded Error","message":"Bạn đã đạt giới hạn gửi lại. Vui lòng thử lại sau.","path":"/api/auth/resend-verification","status":429}}}},"409":{"description":"User already verified","content":{"application/json":{"example":{"error":"User Already Verified Error","message":"Người dùng đã xác thực","path":"/api/auth/resend-verification","status":409}}}}}}},"/api/auth/register":{"post":{"tags":["User Controller"],"summary":"Register new user","description":"Sign up a new user. Returns email if successful, returns list of errors if failed.","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSignupDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Register successfully","content":{"application/json":{"example":{"email":"test@example.com"}}}},"400":{"description":"Invalid data","content":{"application/json":{"example":["Mật khẩu không khớp"]}}},"404":{"description":"Role not found","content":{"application/json":{"example":{"error":"Resource not found","message":"Vai trò này không tồn tại","path":"/api/auth/register","status":404}}}},"409":{"description":"Data already exists","content":{"application/json":{"examples":{"Email exists":{"description":"Email exists","value":{"error":"Data Integrity Violation Error","message":"Email đã tồn tại","path":"/api/auth/register","status":409}},"Username exists":{"description":"Username exists","value":{"error":"Data Integrity Violation Error","message":"Username đã tồn tại","path":"/api/auth/register","status":409}}}}}}}}},"/api/auth/login":{"post":{"tags":["User Controller"],"summary":"Login","description":"Login to the system","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Login successfully","content":{"application/json":{"example":{"accessToken":"1234567890"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"example":{"error":"Bad Credentials Error","message":"Username hoặc mật khẩu không chính xác","path":"/api/auth/login","status":401}}}},"403":{"description":"User not verified","content":{"application/json":{"example":{"error":"User Not Verified Error","message":"Người dùng chưa xác thực. Vui lòng kiểm tra email để xác thực tài khoản.","path":"/api/auth/login","status":403}}}}}}},"/api/auth/forgot-password":{"post":{"tags":["User Controller"],"summary":"Send reset password link to email","description":"Send reset password link to email","operationId":"forgotPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserForgotPwdDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Send reset password link to email successfully","content":{"application/json":{"example":["Link đặt lại mật khẩu đã được gửi thành công!"]}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/api/auth/forgot-password","status":404}}}},"400":{"description":"Invalid email","content":{"application/json":{"example":"[\n  \"Email là bắt buộc\",\n]"}}}}}},"/user/{id}":{"get":{"tags":["User Controller"],"summary":"Get user by id","description":"Get user by id","operationId":"getUserById","parameters":[{"name":"id","in":"path","description":"User id","required":true,"schema":{"type":"integer","format":"int64","description":"User id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Get user by id successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"id":1,"fullName":"John Doe","username":"user1","phone":"1234567890","email":"user1@example.com","role":{"id":1,"name":"ADMIN"},"enabled":true}}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/user/1","status":404}}}}}}},"/user/me":{"get":{"tags":["User Controller"],"summary":"Get current user","description":"Get current user","operationId":"getCurrentUser","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Get current user successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"id":1,"fullName":"John Doe","username":"user1","phone":"1234567890","email":"user1@example.com","role":{"id":1,"name":"ADMIN"},"enabled":true}}}}}}},"/get-all-users":{"get":{"tags":["User Controller"],"summary":"Get all users","description":"Get all users","operationId":"getAllUsers","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Get all users successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}},"example":[{"id":1,"fullName":"John Doe","username":"user1","phone":"1234567890","email":"user1@example.com","role":{"id":1,"name":"ADMIN"},"enabled":true},{"id":2,"fullName":"Jane Doe","username":"user2","phone":"1234567890","email":"user2@example.com","role":{"id":2,"name":"USER"},"enabled":true}]}}}}}},"/api/search":{"get":{"tags":["Property Controller"],"summary":"Search properties","description":"Search properties by keyword in title, description, address, etc. Only approved properties will be returned","operationId":"searchProperties","parameters":[{"name":"keyword","in":"query","description":"Search keyword","required":true,"schema":{"type":"string","description":"Search keyword","example":"chung cư quận 1"},"example":"chung cư quận 1"}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Properties found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDTO"},"example":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Ho Chi Minh City","district":"District 1","ward":"Ben Nghe Ward","street":"Nguyen Hue Street","address":"123 Nguyen Hue Street, Ben Nghe Ward, District 1, HCMC","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":5,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}]}}}}}},"/api/saved-properties":{"get":{"tags":["Saved Property Controller"],"summary":"Get saved properties","description":"Get all properties saved by the current user","operationId":"getSavedProperties","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Saved properties retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDTO"},"example":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Ho Chi Minh City","district":"District 1","ward":"Ben Nghe Ward","street":"Nguyen Hue Street","address":"123 Nguyen Hue Street, Ben Nghe Ward, District 1, HCMC","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":5,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}]}}}}}},"/api/rental-request/{propertyId}/customers":{"get":{"tags":["Rental Request Controller"],"summary":"Get the rental request status of a customer for a property","description":"Get the rental request status of a customer for a property","operationId":"checkRentalRequestStatusOfCustomer","parameters":[{"name":"propertyId","in":"path","description":"Property id","required":true,"schema":{"type":"integer","format":"int64","description":"Property id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Get rental request status successfully","content":{"application/json":{"schema":{"type":"string","enum":["PENDING","SELECTED","REJECTED","CANCELED"]},"example":"\"PENDING\""}}},"404":{"description":"Property not found","content":{"application/json":{"examples":{"Property not found":{"description":"Property not found","value":{"error":"Resource Not Found Error","message":"BĐS không tồn tại","path":"/api/rental-request/1/customers","status":404}},"Rental request not found":{"description":"Rental request not found","value":{"error":"Resource Not Found Error","message":"Không có yêu cầu thuê cho BĐS này","path":"/api/rental-request/1/customers","status":404}}}}}}}}},"/api/rental-request/customer/{customerId}/properties":{"get":{"tags":["Rental Request Controller"],"summary":"Get properties of current owner to which customers send requests","description":"Get properties of current owner to which customers send requests","operationId":"getCustomerProperties","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Retrieve properties successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RentalRequestDTO"},"example":[{"id":1,"status":"PENDING","property":{"id":1,"title":"Căn hộ cho thuê","address":"123 Đường ABC, Quận 1, TP.HCM","price":5000000,"area":50,"bedrooms":2,"bathrooms":1,"status":"AVAILABLE"},"customer":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com","phone":"0123456789"},"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"},{"id":2,"status":"SELECTED","property":{"id":2,"title":"Nhà trọ cho thuê","address":"456 Đường XYZ, Quận 2, TP.HCM","price":3000000,"area":30,"bedrooms":1,"bathrooms":1,"status":"RENTED"},"customer":{"id":2,"fullName":"Tran Van B","email":"tranvanb@example.com","phone":"0987654321"},"createdAt":"2024-03-19 15:45:00","updatedAt":"2024-03-20 09:15:00"}]}}},"404":{"description":"Rental request not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Yêu cầu thuê không tồn tại","path":"/api/rental-request/1/status","status":404}}}}}}},"/api/rental-request/customer/properties":{"get":{"tags":["Rental Request Controller"],"summary":"Get properties to which current customers send requests","description":"Get properties to which current customers send requests","operationId":"getCurrentCustomerProperties","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Retrieve properties successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RentalRequestDTO"},"example":[{"id":1,"status":"PENDING","property":{"id":1,"title":"Căn hộ cho thuê","address":"123 Đường ABC, Quận 1, TP.HCM","price":5000000,"area":50,"bedrooms":2,"bathrooms":1,"status":"AVAILABLE"},"customer":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com","phone":"0123456789"},"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"},{"id":2,"status":"SELECTED","property":{"id":2,"title":"Nhà trọ cho thuê","address":"456 Đường XYZ, Quận 2, TP.HCM","price":3000000,"area":30,"bedrooms":1,"bathrooms":1,"status":"RENTED"},"customer":{"id":2,"fullName":"Tran Van B","email":"tranvanb@example.com","phone":"0987654321"},"createdAt":"2024-03-19 15:45:00","updatedAt":"2024-03-20 09:15:00"}]}}}}}},"/api/property/me":{"get":{"tags":["Property Controller"],"summary":"Get properties of current owner","description":"Get all properties owned by the current user. If user is admin, returns all properties","operationId":"getApprovedPropertiesOfOwner","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Retrieve properties successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDTO"},"example":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","address":"123 Đường Nguyễn Huệ, Phường Bến Nghé, Quận 1, TP.HCM","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":5,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"},{"id":2,"title":"Nhà trọ cho thuê","description":"Nhà trọ giá rẻ, gần chợ","address":"456 Đường XYZ, Quận 2, TP.HCM","pricePerMonth":3000000,"area":30,"bedrooms":1,"bathrooms":1,"floors":1,"type":"HOUSE","status":"RENTED","furnitureStatus":"PARTIALLY_FURNISHED","direction":"WEST","moveInTime":"NEXT_MONTH","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["WIFI","PARKING"],"images":[{"id":3,"imageUrl":"https://example.com/image3.jpg"}],"savedCount":2,"createdAt":"2024-03-19 15:45:00","updatedAt":"2024-03-20 09:15:00"}]}}},"404":{"description":"No properties found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Bạn không có BĐS nào","path":"/api/property/me","status":404}}}}}}},"/api/notifications":{"get":{"tags":["Notification Controller"],"summary":"Get user notifications","description":"Get all notifications of the current user, ordered by creation time (newest first)","operationId":"getUserNotifications","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Notifications retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"},"example":[{"id":1,"title":"Yêu cầu thuê nhà mới","content":"Bạn có yêu cầu thuê nhà mới từ Nguyễn Văn A","isRead":false,"user":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com"},"property":{"id":1,"title":"Căn hộ cho thuê tại Quận 1"},"rentalRequest":{"id":1,"status":"PENDING"},"createdAt":"2024-03-20 10:30:00"},{"id":2,"title":"Bất động sản đã được duyệt","content":"Bất động sản của bạn đã được duyệt bởi admin","isRead":true,"user":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com"},"property":{"id":2,"title":"Nhà trọ cho thuê"},"rentalRequest":null,"createdAt":"2024-03-19 15:45:00"}]}}}}}},"/api/notifications/unread":{"get":{"tags":["Notification Controller"],"summary":"Get unread notifications","description":"Get all unread notifications of the current user, ordered by creation time (newest first)","operationId":"getUnreadNotifications","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Unread notifications retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"},"example":[{"id":1,"title":"Yêu cầu thuê nhà mới","content":"Bạn có yêu cầu thuê nhà mới từ Nguyễn Văn A","isRead":false,"user":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com"},"property":{"id":1,"title":"Căn hộ cho thuê tại Quận 1"},"rentalRequest":{"id":1,"status":"PENDING"},"createdAt":"2024-03-20 10:30:00"},{"id":3,"title":"Bất động sản bị từ chối","content":"Bất động sản của bạn đã bị từ chối bởi admin","isRead":false,"user":{"id":1,"fullName":"Nguyen Van A","email":"nguyenvana@example.com"},"property":{"id":3,"title":"Căn hộ cao cấp"},"rentalRequest":null,"createdAt":"2024-03-18 09:15:00"}]}}}}}},"/api/notifications/unread/count":{"get":{"tags":["Notification Controller"],"summary":"Get unread notification count","description":"Get the total number of unread notifications for the current user","operationId":"getUnreadNotificationCount","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Unread notification count retrieved successfully","content":{"application/json":{"schema":{"type":"integer"},"example":5}}}}}},"/api/dashboard/owner":{"get":{"tags":["Dashboard Controller"],"summary":"Get owner dashboard","description":"Get dashboard statistics for the current property owner including property counts, request counts, and saved property statistics","operationId":"getOwnerDashboard","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Dashboard data retrieved successfully","content":{"application/json":{"example":{"stats":{"publishedCount":10,"requestCount":5,"savedCount":25,"savedStats":[{"date":"20/03","count":5},{"date":"19/03","count":3},{"date":"18/03","count":4},{"date":"17/03","count":2},{"date":"16/03","count":6},{"date":"15/03","count":3},{"date":"14/03","count":2}],"recentRequests":[{"id":1,"status":"PENDING","customer":{"id":2,"fullName":"Tran Van B"},"property":{"id":1,"title":"Căn hộ cho thuê tại Quận 1"},"createdAt":"2024-03-20 10:30:00"},{"id":2,"status":"PENDING","customer":{"id":3,"fullName":"Le Van C"},"property":{"id":2,"title":"Nhà trọ cho thuê"},"createdAt":"2024-03-19 15:45:00"}]}}}}}}}},"/api/dashboard/customer":{"get":{"tags":["Dashboard Controller"],"summary":"Get customer dashboard","description":"Get dashboard statistics and saved properties for the current customer","operationId":"getCustomerDashboard","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Dashboard data retrieved successfully","content":{"application/json":{"example":{"stats":{"savedCount":5,"registeredCount":3,"pendingCount":2},"savedProperties":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Ho Chi Minh City","district":"District 1","ward":"Ben Nghe Ward","street":"Nguyen Hue Street","address":"123 Nguyen Hue Street, Ben Nghe Ward, District 1, HCMC","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":5,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}]}}}}}}},"/api/dashboard/admin":{"get":{"tags":["Dashboard Controller"],"summary":"Get admin dashboard","description":"Get dashboard statistics for admin including user counts, property counts, percentages, and popular properties","operationId":"getAdminDashboard","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Dashboard data retrieved successfully","content":{"application/json":{"example":{"stats":{"userCount":100,"approvedPropertyCount":50,"pendingPropertyCount":10,"userStats":{"ownerCount":30,"customerCount":65,"adminCount":5},"rentedPercentage":60.5,"acceptedRequestPercentage":75.2,"activeUserPercentage":85.0},"popularProperties":[{"id":1,"title":"Căn hộ cho thuê tại Quận 1","description":"Căn hộ đầy đủ tiện nghi, gần trung tâm","city":"Ho Chi Minh City","district":"District 1","ward":"Ben Nghe Ward","street":"Nguyen Hue Street","address":"123 Nguyen Hue Street, Ben Nghe Ward, District 1, HCMC","pricePerMonth":5000000,"area":50.5,"bedrooms":2,"bathrooms":1,"floors":1,"type":"APARTMENT","status":"AVAILABLE","furnitureStatus":"FULLY_FURNISHED","direction":"EAST","moveInTime":"IMMEDIATELY","electricityPrice":"PROVIDER_RATE","waterPrice":"PROVIDER_RATE","internetPrice":"PROVIDER_RATE","amenities":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"images":[{"id":1,"imageUrl":"https://example.com/image1.jpg"},{"id":2,"imageUrl":"https://example.com/image2.jpg"}],"savedCount":25,"createdAt":"2024-03-20 10:30:00","updatedAt":"2024-03-20 10:30:00"}]}}}}}}},"/api/customers/owner/{ownerId}":{"get":{"tags":["Customer Controller"],"summary":"Get customers by owner ID","description":"Retrieves all customers associated with a specific owner","operationId":"getCustomersByOwnerId","parameters":[{"name":"ownerId","in":"path","description":"User id","required":true,"schema":{"type":"integer","format":"int64","description":"User id","example":1},"example":1}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved customers","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":[{"id":2,"fullName":"Nguyen Van A","username":"nguyenvana","phone":"0123456789","email":"a@gmail.com","role":{"id":3,"name":"CUSTOMER"}},{"id":3,"fullName":"Tran Thi B","username":"tranthib","phone":"0987654321","email":"b@gmail.com","role":{"id":3,"name":"CUSTOMER"}}]}}},"404":{"description":"Owner not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Không tìm thấy chủ sở hữu","path":"/api/auth/customers/owner/1","status":404}}}}}}},"/api/auth/verify-email":{"get":{"tags":["User Controller"],"summary":"Verify user email","description":"Verify user email. Returns notification if successful, returns list of errors if failed.","operationId":"createUser","parameters":[{"name":"token","in":"query","description":"Email verification token","required":true,"schema":{"type":"string","description":"Email verification token","example":"1234567890"},"example":1234567890}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Verify email successfully","content":{"application/json":{"example":["Xác nhận email thành công. Bạn có thể đăng nhập"]}}},"400":{"description":"Invalid token","content":{"application/json":{"example":{"error":"Invalid Token Error","message":"Token không hợp lệ. Vui lòng yêu cầu đăng ký mới","path":"/api/auth/verify-email","status":400}}}},"409":{"description":"User already verified","content":{"application/json":{"example":{"error":"User Already Verified Error","message":"Người dùng đã xác thực","path":"/api/auth/verify-email","status":409}}}}}}},"/api/auth/refresh":{"get":{"tags":["User Controller"],"summary":"Refresh access token","description":"Refresh access token","operationId":"refresh","parameters":[{"name":"refreshToken","in":"cookie","description":"Refresh token","required":true,"schema":{"type":"string","description":"Refresh token","example":"1234567890"},"example":1234567890}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Refresh access token successfully","content":{"application/json":{"example":{"accessToken":"1234567890"}}}},"400":{"description":"Invalid token","content":{"application/json":{"example":{"error":"Invalid Token Error","message":"Token không hợp lệ","path":"/api/auth/refresh","status":400}}}},"404":{"description":"User not found","content":{"application/json":{"example":{"error":"Resource Not Found Error","message":"Người dùng không tồn tại","path":"/api/auth/refresh","status":404}}}}}}},"/api/auth/logout":{"get":{"tags":["User Controller"],"summary":"Logout","description":"Logout","operationId":"logout","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"User logout successfully","content":{"application/json":{"example":["Đăng xuất thành công"]}}}}}}},"components":{"schemas":{"UserChangePwdDTO":{"type":"object","description":"User change password information","properties":{"oldPassword":{"type":"string","description":"Old password of the user","example":"password123"},"newPassword":{"type":"string","description":"New password of the user","example":"password1234"},"retypePassword":{"type":"string","description":"Retype password of the user","example":"password1234"}},"required":["newPassword","oldPassword","retypePassword"]},"Role":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","enum":["ADMIN","OWNER","CUSTOMER"]}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fullName":{"type":"string"},"username":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"role":{"$ref":"#/components/schemas/Role"}}},"UserUpdateDTO":{"type":"object","description":"User update information","properties":{"fullName":{"type":"string","description":"Full name of user","example":"John Doe","pattern":"[a-zA-Z][a-zA-Z ]+"},"username":{"type":"string","description":"Username","example":"user1"},"phone":{"type":"string","description":"Phone number of user","example":1234567890},"email":{"type":"string","description":"Email of user","example":"user1@example.com"},"roleid":{"type":"integer","format":"int64","description":"Role ID of user","example":1}},"required":["email","fullName","phone","roleid","username"]},"Property":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"street":{"type":"string"},"address":{"type":"string"},"area":{"type":"number","format":"double"},"pricePerMonth":{"type":"number","format":"double"},"bedrooms":{"type":"integer","format":"int32"},"bathrooms":{"type":"integer","format":"int32"},"floors":{"type":"integer","format":"int32"},"maxTenants":{"type":"integer","format":"int32"},"currentTenants":{"type":"integer","format":"int32"},"rentalRequests":{"type":"array","items":{"$ref":"#/components/schemas/RentalRequest"}},"customer":{"$ref":"#/components/schemas/User"},"owner":{"$ref":"#/components/schemas/User"},"status":{"type":"string","enum":["PENDING_REVIEW","APPROVED","REJECTED","EXPIRED","RENTED"]},"type":{"type":"string","enum":["APARTMENT","MINI_APARTMENT","PRIVATE_HOUSE","VILLA","SHOPHOUSE","ROOM_RENTAL","OFFICE"]},"furnitureStatus":{"type":"string","enum":["FULLY_FURNISHED","BASIC_FURNISHED","UNFURNISHED"]},"direction":{"type":"string","enum":["EAST","WEST","SOUTH","NORTH","NORTHEAST","NORTHWEST","SOUTHEAST","SOUTHWEST"]},"moveInTime":{"type":"string","enum":["IMMEDIATELY","ONE_TO_TWO_WEEKS","ONE_MONTH","NEGOTIABLE"]},"electricityPrice":{"type":"string","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"]},"waterPrice":{"type":"string","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"]},"internetPrice":{"type":"string","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"]},"savedCount":{"type":"integer","format":"int32"},"amenities":{"type":"array","items":{"type":"string","enum":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"]}},"images":{"type":"array","items":{"$ref":"#/components/schemas/PropertyImage"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"reviewedBy":{"$ref":"#/components/schemas/User"},"reviewedAt":{"type":"string","format":"date-time"},"rejectReason":{"type":"string"},"user":{"$ref":"#/components/schemas/User"}}},"PropertyImage":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"imageUrl":{"type":"string"},"property":{"$ref":"#/components/schemas/Property"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"RentalRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"property":{"$ref":"#/components/schemas/Property"},"customer":{"$ref":"#/components/schemas/User"},"status":{"type":"string","enum":["PENDING","SELECTED","REJECTED","CANCELED"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"PropertyCreateOrUpdateDTO":{"type":"object","description":"Create a new property or update existing property","properties":{"title":{"type":"string","description":"Title of the property","example":"Căn hộ cho thuê tại Quận 1"},"description":{"type":"string","description":"Detailed description of the property","example":"Căn hộ đầy đủ tiện nghi, gần trung tâm"},"city":{"type":"string","description":"City where the property is located","example":"Hồ Chí Minh"},"district":{"type":"string","description":"District where the property is located","example":"Quận 1"},"ward":{"type":"string","description":"Ward where the property is located","example":"Phường Bến Nghé"},"street":{"type":"string","description":"Street where the property is located","example":"Đường Nguyễn Huệ"},"address":{"type":"string","description":"Full address of the property","example":123},"pricePerMonth":{"type":"number","format":"double","description":"Monthly rental price in VND","example":5000000},"bedrooms":{"type":"integer","format":"int32","description":"Number of bedrooms","example":2},"bathrooms":{"type":"integer","format":"int32","description":"Number of bathrooms","example":1},"floors":{"type":"integer","format":"int32","description":"Number of floors","example":1},"type":{"type":"string","description":"Type of property","enum":["APARTMENT","MINI_APARTMENT","PRIVATE_HOUSE","VILLA","SHOPHOUSE","ROOM_RENTAL","OFFICE"],"example":"APARTMENT"},"area":{"type":"number","format":"double","description":"Area of the property in square meters","example":50.5},"furnitureStatus":{"type":"string","description":"Furniture status of the property","enum":["FULLY_FURNISHED","BASIC_FURNISHED","UNFURNISHED"],"example":"FULLY_FURNISHED"},"direction":{"type":"string","description":"Direction the property faces","enum":["EAST","WEST","SOUTH","NORTH","NORTHEAST","NORTHWEST","SOUTHEAST","SOUTHWEST"],"example":"EAST"},"moveInTime":{"type":"string","description":"Available move-in time","enum":["IMMEDIATELY","ONE_TO_TWO_WEEKS","ONE_MONTH","NEGOTIABLE"],"example":"IMMEDIATELY"},"electricityPrice":{"type":"string","description":"Electricity price option","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"],"example":"PROVIDER_RATE"},"waterPrice":{"type":"string","description":"Water price option","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"],"example":"PROVIDER_RATE"},"internetPrice":{"type":"string","description":"Internet price option","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"],"example":"PROVIDER_RATE"},"amenities":{"type":"array","description":"List of amenities available in the property","example":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"],"items":{"type":"string","enum":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"]}},"imageUrls":{"type":"array","description":"List of image URLs for the property","example":["https://example.com/image1.jpg","https://example.com/image2.jpg"],"items":{"type":"string"}}},"required":["area","city","description","district","pricePerMonth","title","type","ward"]},"Notification":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"user":{"$ref":"#/components/schemas/User"},"property":{"$ref":"#/components/schemas/Property"},"rentalRequest":{"$ref":"#/components/schemas/RentalRequest"},"createdAt":{"type":"string","format":"date-time"},"read":{"type":"boolean"}}},"UserResetPwdDTO":{"type":"object","description":"User reset password information","properties":{"newPassword":{"type":"string","description":"New password of user","example":"password123"},"retypePassword":{"type":"string","description":"Retyped password of user","example":"password123"}},"required":["newPassword","retypePassword"]},"PropertyFilterDTO":{"type":"object","description":"DTO containing property filtering criteria","properties":{"areaRange":{"type":"object","additionalProperties":{"type":"number","format":"double"},"description":"Area range in square meters","example":{"min":30.0,"max":100.0}},"priceRange":{"type":"object","additionalProperties":{"type":"number","format":"double"},"description":"Price range in VND per month","example":{"min":3000000.0,"max":1.0E7}},"bedrooms":{"type":"array","description":"Number of bedrooms","example":[1,2,3],"items":{"type":"integer","format":"int32"}},"city":{"type":"array","description":"List of cities","example":["Ho Chi Minh City","Hanoi"],"items":{"type":"string"}},"district":{"type":"array","description":"List of districts","example":["District 1","District 2"],"items":{"type":"string"}},"ward":{"type":"array","description":"List of wards","example":["Ben Nghe Ward","Da Kao Ward"],"items":{"type":"string"}},"direction":{"type":"array","description":"Property direction","example":["EAST","WEST","NORTH","SOUTH"],"items":{"type":"string"}},"type":{"type":"array","description":"Property type","example":["APARTMENT","VILLA"],"items":{"type":"string"}},"electricityPrice":{"type":"string","description":"Electricity price option","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"],"example":"PROVIDER_RATE"},"internetPrice":{"type":"string","description":"Internet price option","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"],"example":"PROVIDER_RATE"},"waterPrice":{"type":"string","description":"Water price option","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"],"example":"PROVIDER_RATE"},"moveInTime":{"type":"string","description":"Move-in time","enum":["IMMEDIATELY","ONE_TO_TWO_WEEKS","ONE_MONTH","NEGOTIABLE"],"example":"IMMEDIATELY"}}},"PropertyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"city":{"type":"string"},"district":{"type":"string"},"ward":{"type":"string"},"street":{"type":"string"},"address":{"type":"string"},"pricePerMonth":{"type":"number","format":"double"},"currentTenants":{"type":"integer","format":"int32"},"bedrooms":{"type":"integer","format":"int32"},"bathrooms":{"type":"integer","format":"int32"},"floors":{"type":"integer","format":"int32"},"type":{"type":"string","enum":["APARTMENT","MINI_APARTMENT","PRIVATE_HOUSE","VILLA","SHOPHOUSE","ROOM_RENTAL","OFFICE"]},"status":{"type":"string","enum":["PENDING_REVIEW","APPROVED","REJECTED","EXPIRED","RENTED"]},"area":{"type":"number","format":"double"},"furnitureStatus":{"type":"string","enum":["FULLY_FURNISHED","BASIC_FURNISHED","UNFURNISHED"]},"direction":{"type":"string","enum":["EAST","WEST","SOUTH","NORTH","NORTHEAST","NORTHWEST","SOUTHEAST","SOUTHWEST"]},"moveInTime":{"type":"string","enum":["IMMEDIATELY","ONE_TO_TWO_WEEKS","ONE_MONTH","NEGOTIABLE"]},"electricityPrice":{"type":"string","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"]},"waterPrice":{"type":"string","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"]},"internetPrice":{"type":"string","enum":["PROVIDER_RATE","OWNER_DECISION","NEGOTIABLE"]},"amenities":{"type":"array","items":{"type":"string","enum":["CAMERA","SECURITY_GUARD","FIRE_SUPPRESSION_SYSTEM"]}},"imageUrls":{"type":"array","items":{"type":"string"}},"owner":{"$ref":"#/components/schemas/User"},"createdAt":{"type":"string","format":"date-time"},"reviewedAt":{"type":"string","format":"date-time"},"rejectReason":{"type":"string"},"rentalRequests":{"type":"array","items":{"$ref":"#/components/schemas/RentalRequest"}},"savedCount":{"type":"integer","format":"int32"}}},"UserSignupDTO":{"type":"object","description":"User signup information","properties":{"fullName":{"type":"string","description":"Full name of the user","example":"John Doe","pattern":"[a-zA-Z][a-zA-Z ]+"},"username":{"type":"string","description":"Username of the user","example":"user1"},"phone":{"type":"string","description":"Phone number of the user","example":1234567890},"email":{"type":"string","description":"Email of the user","example":"test@example.com"},"password":{"type":"string","description":"Password of the user","example":"password123"},"retypePassword":{"type":"string","description":"Retype password of the user","example":"password123"},"roleid":{"type":"integer","format":"int64","description":"Role of the user","example":2}},"required":["email","fullName","password","phone","retypePassword","roleid","username"]},"UserLoginDTO":{"type":"object","description":"User login information","properties":{"username":{"type":"string","description":"Username of the user","example":"user1"},"password":{"type":"string","description":"Password of the user","example":"password123"}},"required":["password","username"]},"UserForgotPwdDTO":{"type":"object","description":"User forgot password information","properties":{"email":{"type":"string","description":"Email of the user","example":"test@example.com"}},"required":["email"]},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fullName":{"type":"string"},"username":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"role":{"$ref":"#/components/schemas/Role"},"enabled":{"type":"boolean"}}},"RentalRequestDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["PENDING","SELECTED","REJECTED","CANCELED"]},"customer":{"$ref":"#/components/schemas/User"},"property":{"$ref":"#/components/schemas/Property"}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"bearerAuth","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}